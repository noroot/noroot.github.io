<!DOCTYPE html>
<html lang="en">
    <head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
	<link rel="stylesheet" href="/blogassets/main.css">
	<link rel="stylesheet" href="/blogassets/highlight.css">
	<title>False!True - page 6 | False!True</title>
        
        
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28956735-2"></script>
	<script>
	 window.dataLayer = window.dataLayer || [];
	 function gtag(){dataLayer.push(arguments);}
	 gtag('js', new Date());

	 gtag('config', 'UA-28956735-2');
	</script>
    </head>
    <body>
	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top mb-5">
	    <div class="container">
		<a class="navbar-brand" href="/"><span style="color:lightgreen"> False!</span><span style="color:cyan">True</span></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsEx" aria-controls="navbarsEx" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarsEx">
		    <ul class="navbar-nav mr-auto">
			<li class="nav-item active">
			    <a class="nav-link" href="#">Home</a>
			</li>
			<li class="nav-item">
			    <a class="nav-link" href="/archive/">Archive</a>
			</li>
			<li class="nav-item">
			    <a class="nav-link" href="/categories/books/">Bookshelf</a>
			</li>
			<li class="nav-item">
			    <a class="nav-link" href="https://slides.falsetrue.io">Slides</a>
			</li>
			<li class="nav-item">
			    <a class="nav-link" href="/about/">About</a>
			</li>
		    </ul>
		    <ul class="nav navbar-nav navbar-right">
			<li>
		            <a href="/bloghttp://feeds.feedburner.com/OvermindsHive" class="om-rss-link">Subscirbe <img src="/images/rss.png" /> RSS</a>
			</li>
                    </ul>
		</div>
	    </div>
	</nav>
	
	<div class="container mt-3 pt-5">
            <div class="row">
    <div class="col-12 col-lg-8 col-md-10 col-xs-12 col-md-12">
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2010-06-01 21:00:00 +0400">June 1, 2010</time>    
	    <h1 class="post-title"><a href="/python/math/2010/06/01/python-differential/">Python differential</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/python/" class="badge badge-success">python</a>
		
		<a href="/categories/math/" class="badge badge-success">math</a>
		
	    </div>
	    <div class="content">
		
		<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">#!/usr/bin/python</span> <span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">array</span> <span class="kn">from</span> <span class="nn">scipy.integrate</span> <span class="kn">import</span> <span class="n">odeint</span><span class="p">,</span><span class="n">ode</span> <span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">plot</span><span class="p">,</span> <span class="n">show</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">arange</span> <span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rand</span> <span class="k">def</span> <span class="nf">dotu</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">t0</span><span class="p">):</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span> <span class="k">return</span> <span class="n">d</span> <span class="k">def</span> <span class="nf">dplot</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"green"</span><span class="p">):</span> <span class="n">t</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span> <span class="k">print</span> <span class="n">t</span> <span class="n">u</span><span class="o">=</span><span class="n">odeint</span><span class="p">(</span><span class="n">dotu</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="n">u</span><span class="o">=</span><span class="n">array</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> <span class="n">plot</span><span class="p">(</span><span class="n">u</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">u</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">1.52</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">):</span> <span class="k">print</span> <span class="n">x</span> <span class="n">dplot</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span> <span class="n">show</span><span class="p">()</span></code></pre></figure> <h2 id="дифференциальные-исчесления-в-python-реализовываются-с-помощью-библиотек">Дифференциальные исчесления в python реализовываются с помощью библиотек:</h2> <p><a href="http://www.scipy.org/" rel="nofollow">http://www.scipy.org/</a><br /> <a href="http://ru.wikipedia.org/wiki/SciPy" rel="nofollow">http://ru.wikipedia.org/wiki/SciPy</a><br /></p> <p><a href="http://numpy.scipy.org/" rel="nofollow">http://numpy.scipy.org/</a><br /> <a href="http://ru.wikipedia.org/wiki/NumPy" rel="nofollow">http://ru.wikipedia.org/wiki/NumPy</a><br /></p> <p>Графки рисуются с помощью http://matplotlib.sourceforge.net/</p> <p>Но не всё так гладко, возможно в новых версиях уже поправлены выявленные баги, но в том ч то использовалось в примере были ошибки вычисления ODE решателей которые приводили к остановке программы и соотвественно нелзя было нарисовать график, из за этого пришлось использовать другие платформы.</p> <p>Все баги к этому моменту починили...
		
		<div>
		    <a href="/python/math/2010/06/01/python-differential/">More</a>
		</div>
	    </div>
	</article>
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2008-04-12 00:59:00 +0400">April 12, 2008</time>    
	    <h1 class="post-title"><a href="/old/fun/2008/04/12/antitrust/">Antitrust - спецэффекты в фильмах про программистов</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/old/" class="badge badge-success">old</a>
		
		<a href="/categories/fun/" class="badge badge-success">fun</a>
		
	    </div>
	    <div class="content">
		
		<p><img src="http://i.imgur.com/ziO2B.png" /></p>

<p>Все наверно смотрели этот фильм Antitrust, в русской локализации "Программист", дык вот в этом фильме главный герой Майло Хоффман (Milo Hoffman) со своими друзьями по сюжету весь фильм пытается скомпилировать пример из документации по Java на сайте Sun : <strong>WebServer.java</strong> именно этот файл фигурирует в сценах с монитором. Снимки и продолжение под катом...</p>
<p>Скриншоты кода - три разных сцены</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">void</span> <span class="nf">listDirectory</span><span class="o">(</span><span class="n">File</span> <span class="n">dir</span><span class="o">,</span> <span class="n">PrintStream</span> <span class="n">ps</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">ps</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"
\n"</span><span class="o">);</span>
        <span class="n">ps</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Parent Directory
\n"</span><span class="o">);</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">list</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">list</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">list</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span> <span class="n">list</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">File</span> <span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">dir</span><span class="o">,</span> <span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">+</span><span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]+</span><span class="s">"/
"</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">+</span><span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]+</span><span class="s">"


"</span> <span class="o">+</span> <span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">())</span> <span class="o">+</span> <span class="s">""</span><span class="o">);</span>
    <span class="o">}</span>



 <span class="cm">/* are we doing a GET or just a HEAD */</span>
            <span class="kt">boolean</span> <span class="n">doingGet</span><span class="o">;</span>
            <span class="cm">/* beginning of file name */</span>
            <span class="kt">int</span> <span class="n">index</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">buf</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'G'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                <span class="n">buf</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'E'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                <span class="n">buf</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'T'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                <span class="n">buf</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">' '</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">doingGet</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="n">index</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">buf</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'H'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                       <span class="n">buf</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'E'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                       <span class="n">buf</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'A'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                       <span class="n">buf</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">'D'</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span>
                       <span class="n">buf</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">==</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="sc">' '</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">doingGet</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="n">index</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="cm">/* we don't support this method */</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"HTTP/1.0 "</span> <span class="o">+</span> <span class="n">HTTP_BAD_METHOD</span> <span class="o">+</span>
                           <span class="s">" unsupported method type: "</span><span class="o">);</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buf</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">EOL</span><span class="o">);</span>
                <span class="n">ps</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
                <span class="n">s</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="o">}</span></code></pre></figure>

<p><br />
<img src="http://i.imgur.com/thWH9.png" />
<br /></p>

<p>Обьяснения под катом

		
		<div>
		    <a href="/old/fun/2008/04/12/antitrust/">More</a>
		</div>
	    </div>
	</article>
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2008-01-02 00:00:00 +0300">January 2, 2008</time>    
	    <h1 class="post-title"><a href="/sys/2008/01/02/shorewall/">Shorewall - фреймворк для построения фаерволла</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/sys/" class="badge badge-success">sys</a>
		
	    </div>
	    <div class="content">
		
		<p>Настройка роутинга с двумя провайдерами через <em>shorewall</em>. И так дано машинароутер с установленным shorewall, задача сделать на ней 2 канала. Немного о самом shorewall, - это такой framework для работы c iptables, если 
вам надоелj вручную писать правила, то этот инструмент решит почти все ваши проблемы.</p>

<h2 id="конфигурация-shorewall">Конфигурация shorewall</h2>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span><span class="nb">ls</span> /etc/shorewall
	  
	|-- Makefile
	|-- README.txt
	|-- accounting
	|-- actions
	|-- blacklist
	|-- capabilities
	|-- <span class="k">continue</span>
	|-- ecn
	|-- hosts
	|-- init
	|-- initdone
	|-- interfaces
	|-- ipsec
	|-- ipsecvpn
	|-- maclist
	|-- masq
	|-- modules
	|-- nat
	|-- netmap
	|-- params
	|-- policy
	|-- providers
	|-- proxyarp
	|-- route_rules
	|-- routestopped
	|-- rules
	|-- shorewall.conf
	|-- start
	|-- started
	|-- stop
	|-- stopped
	|-- tcclasses
	|-- tcdevices
	|-- tcrules
	|-- tos
	|-- tunnel
	|-- tunnels
	<span class="sb">`</span><span class="nt">--</span> zones</code></pre></figure>

<p>Продолжение внутри …

		
		<div>
		    <a href="/sys/2008/01/02/shorewall/">More</a>
		</div>
	    </div>
	</article>
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2008-01-01 18:00:00 +0300">January 1, 2008</time>    
	    <h1 class="post-title"><a href="/admin/2008/01/01/moskva-dot-com-architecture/">Архитектура moskva.com</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/admin/" class="badge badge-success">admin</a>
		
	    </div>
	    <div class="content">
		
		<p>Проект москва.ком представял из себя главный городской портал Москвы. С посещамостью 100к-300к хостов в день.</p> <p>Используемые технологии Debian Linux (etch), Nginx 0.4-0.6, Apache 2.X, PHP 5, MySQL 5.0, Memcache, Xdebug, DRBD.</p> <h2 id="теперь-по-порядку">Теперь по порядку</h2> <p>Изначально сайт работал на 3-х серверах, каждый из которых выполнял свою роль, frontend, backend, database + backups, для организации fail-over решения, этого было недостаточно, точнее fail-over решение вообше отсутствовало в каком либо виде. По скольку планировалось обслуживать большой трафик посетителей, было решено пересмотреть мощности и реализовать highload и failover систему.</p> <h2 id="hardware">Hardware</h2> <p>Было приобретено:</p> <ul> <li>2 x <strong>Dell SC1435</strong> (2 x Duo Core AMD 2200Mhz / 2GB RAM / 70GB SATA) <a href="http://www.dell.com/downloads/emea/products/pedge/en/SC1435_Spec_Sheet%20.pdf">Спецификация</a></li> <li>4 x <strong>Dell PowerEdgeTM 2950</strong> (4 x Core Duo Intel(R) Xeon(TM) MP CPU 3.16GHz / 16GB RAM / 300GB SCSI) <a href="http://www.dell.com/downloads/global/products/pedge/en/PE2950_SS_072007.pdf">Спецификация</a></li> <li> <p>2 x <strong>SuperMicro</strong> (4 x Intel(R) Xeon(R) CPU 5130 @ 2.00GHz / 3GB RAM / 16 x 750GB SCSI Дисков + RAID 50 / 60 )</p> </li> <li>2 x KVM ALTUSEN 16 ports</li> <li>2 x POWER CONTROL ALTUSEN 16 ports</li> </ul> <p>Всего получилось 10 серверов и еще один маршрутизатор cisco express 500, и все это железо предстояло подключить и настроить. подробнее об этом дальше.</p> <h2 id="highload-n-failover">Highload n Failover</h2> <p>10 делились на 3 логические группы (уровни):</p> <p>На каждом уровне было как минимум 2 сервере, для обеспечения отказоустойчивости 99,9% (3 уровень отказоустойчивости)</p> <h3 id="1-уровень-loadbalance-и-статический-контент">1. Уровень Loadbalance и статический контент</h3> <p>Это балансировщик нагрузки, в качестве которого выступал nginx(тогда еще версии 0.3) и failover демон heartbeat который следил за серверами и в случае отказа, переключал нагрузку на доступный сервер.</p> <h3 id="2-уровень-backend-workers-and-database">2. Уровень Backend workers and database</h3> <p>На этом уровене было 4 сервера. 2 из которых были чистыми application серверами на apache для php, и принимали запросы только с первого уровня. 2 другие сервера это Mysql база данных с Master-Slave репликацией и резервным копированием со...
		
		<div>
		    <a href="/admin/2008/01/01/moskva-dot-com-architecture/">More</a>
		</div>
	    </div>
	</article>
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2008-01-01 00:00:00 +0300">January 1, 2008</time>    
	    <h1 class="post-title"><a href="/fun/video/2008/01/01/pizza-party-script/">Pizza party script</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/fun/" class="badge badge-success">fun</a>
		
		<a href="/categories/video/" class="badge badge-success">video</a>
		
	    </div>
	    <div class="content">
		
		<iframe width="420" height="315" src="http://www.youtube.com/embed/UUQzcqBxZJk" frameborder="0" allowfullscreen=""></iframe>

		
		<div>
		    <a href="/fun/video/2008/01/01/pizza-party-script/">More</a>
		</div>
	    </div>
	</article>
	
	<article class="om-article-item mb-5" style="padding-left: 30px;border-left: 4px solid lightgray;">
	    <time datetime="2006-06-13 16:36:00 +0400">June 13, 2006</time>    
	    <h1 class="post-title"><a href="/old/device/2006/06/13/install-linux-on-palm-lifedrive/">Установока linux на Palm LD(Life Drive)</a></h1>
	    <p class="author">
	    <p class="meta"></p>
	    </p>
	    <div class="post-categories mt-3 mb-3">
		Категории:
		
		<a href="/categories/old/" class="badge badge-success">old</a>
		
		<a href="/categories/device/" class="badge badge-success">device</a>
		
	    </div>
	    <div class="content">
		
		<h2 id="необходимые-файлы">Необходимые файлы</h2> <p>Загрузчик <a href="http://web.archive.org/web/20080915045039/http://git.hackndev.com/releases/20061002-insomnia/cocoboot/cocoboot.prc">CocoBoot</a></p> <p><a href="http://web.archive.org/web/20080915045039/http://git.hackndev.com/releases/20061002-insomnia/palmld-familiar/opie-image-v0.8.4-palmld.rootfs.ext2.gz">Образ rootfs с OPIE</a></p> <h3 id="замечание">Замечание</h3> <p> На выбор предлагается ещё GPE - будет медленно работать на LifeDrive и устройствами с небольшой помятью, а также просто загружаемая система без оболочки </p> <p><a href="http://web.archive.org/web/20080915045039/http://git.hackndev.com/releases/20061002-insomnia/swap.gz">Swap file</a></p> <p> Важно Чтобы не качать пустой swap файл размером 90 мегобайт, почему бы не сделать его самомy <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># dd if=/dev/zero of=swap bs=1k count=96k</span> <span class="c"># mkswap swap</span></code></pre></figure> </p> <h3 id="конфиг-ядра">Конфиг ядра</h3> <p> Там две строчки: <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">SWAP_DEV</span><span class="o">=</span><span class="nv">$FILES_MNT</span>/swap <span class="nv">ROOT_DEV</span><span class="o">=</span><span class="nv">$FILES_MNT</span>/opie-image-v0.8.4-palmld.rootfs.ext2</code></pre></figure> Расположение swap файла и rootfs соответсвенно, от корневой директории. </p> <h2 id="процесс-установки">Процесс установки</h2> <p> 1)Включаем на Palm'e Drive Mode, и монтируем диск, <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># mount /dev/sda1 /mnt/palm</span></code></pre></figure> Копируем файлы swap, linux.boot.cfg, и opie-image-v0.8.4-palmld.rootfs.ext2 в корень palm диска, демонтируем устройство и запускаем CocoBoot на palm'e. Жмём естественно Boot. <br /> <img src="http://i.imgur.com/toaol.png" /> </p> <p> Получаем следущую картину: <br /> <img src="http://i.imgur.com/raVLm.png" /> <br /> Загружается ядро... и далее графическая оболочка OPIE:<br /> <img src="http://i.imgur.com/gbsUB.png" /> <br /> Всё установлено и готово к использованию, на момент написания статьи доступна новая сборка linux для Palm LD </p> <p><a href="http://builds.hackndev.com/builds/Marex/TP1-20070717.tar.bz2">http://builds.hackndev.com/builds/Marex/TP1-20070717.tar.bz2</a> <br /> <a href="http://opie.handhelds.org/cgi-bin/moin.cgi/News">Подробнее о OPIE http://opie.handhelds.org/cgi-bin/moin.cgi/News</a></p> <p><br /> <b>cat /proc/cpuinfo</b><br /> <img src="http://i.imgur.com/luALh.png" /> <br /> <b>Модули ядра</b><br /> <img src="http://i.imgur.com/kQ2FN.png" /></p> <p><b>PIM</b><br /> <img src="http://i.imgur.com/ligOW.png" /></p> <p><b>Тесты системы</b><br /> <img src="http://i.imgur.com/WlJsE.png" /></p> <p><b>Рабочий стол настроек</b><br /> <img src="http://i.imgur.com/483Xp.png" /></p> <p><b>OpieMediaPlayer</b><br /> - музыка так и незаиграла <br /> <img src="http://i.imgur.com/d0df3.png" /></p> <p><b>root shell</b><br /> <img src="http://i.imgur.com/CFmLi.png" /> <br /></p> <h2 id="итоги">Итоги</h2> <p> Итоги видны табличке номер один на в начале статьи Система работает стабильно - непадает, segfault'ов ненаблюдалось. Собственно есть всё тоже самое что и в стандартной PalmOS, единственную проблему которую я вижу это мало софта, во остальном всё готово к употреблению. </p> <p><br /></p> <p>Ссылки по...
		
		<div>
		    <a href="/old/device/2006/06/13/install-linux-on-palm-lifedrive/">More</a>
		</div>
	    </div>
	</article>
	
	
	<ul class="pagination">
	    
	    <li class="page-item"><a class="page-link" href="/blog/page/5/index.html">&laquo; Prev</a></li>
	    
	    
	    
	    
	    <li class="page-item">
		<a class="page-link" href="/blog/index.html">1</a>
	    </li>
	    
	    
	    
	    <li class="page-item">
		<a class="page-link" href="/page/2/">2</a>
	    </li>
	    
	    
	    
	    <li class="page-item">
		<a class="page-link" href="/page/3/">3</a>
	    </li>
	    
	    
	    
	    <li class="page-item">
		<a class="page-link" href="/page/4/">4</a>
	    </li>
	    
	    
	    
	    <li class="page-item">
		<a class="page-link" href="/page/5/">5</a>
	    </li>
	    
	    
	    
	    <li class="active page-item">
		<a href="" class="page-link">6</a>
	    </li>
	    
	    
	    
	    
	    <li class="page-item"> <span>Next &raquo;</span></li>
	    
	</ul>
	
    </div>
    <div class="col-3 col-md-4 d-none d-sm-block">
      <aside class="om-aside">
          <h4>New posts</h4>
          <ul>
                
              <li>  
                  <a href="/books/2019/07/29/12-rules-of-life/">Книга: 12 Rules of Life: An Antidote to Chaos</a>  
              </li>  
                
              <li>  
                  <a href="/humanity/2019/04/21/memory-result-chart/">Память о действиях и результате</a>  
              </li>  
                
              <li>  
                  <a href="/howto/2019/02/22/wowcube/">Brief look into WowCube SDK</a>  
              </li>  
                
              <li>  
                  <a href="/history/2019/02/02/netiquette/">Netiquette RFC1855</a>  
              </li>  
                
              <li>  
                  <a href="/dev/2019/01/26/rails-webpack-stimulus/">Rails + Webpack + Stimulus + Bootstrap 4</a>  
              </li>  
                
              <li>  
                  <a href="/books/2018/12/21/bullshit-jobs/">Книга: Bullshit Jobs: A Theory</a>  
              </li>  
                
              <li>  
                  <a href="/tips/linux/2018/11/27/mknod-network/">Сеть с помощью mknod</a>  
              </li>  
                
              <li>  
                  <a href="/security/2018/11/24/wallarm-quest/">CTF Квест</a>  
              </li>  
                
              <li>  
                  <a href="/jekyll/2018/09/22/welcome-to-jekyll/">Обновил Jekyll</a>  
              </li>  
                
              <li>  
                  <a href="/books/2018/06/23/unfuck-yourself/">Книга: Unfuck yourself</a>  
              </li>  
              
          </ul>
      </aside>
    </div>
</div>

	</div>
	<footer class="footer">
	    Dmitry Rodichev &copy; 2003 - 2019 <br>
	    Копирование и распрастранение страницы разрешено только в оригинальном не изменном виде, включая это сообщение..<br>
	    Verbatim copying and redistribution of this entire page are permitted provided this notice is preserved. <br>
	    Verbatim copying and redistribution of any of the photos in the photos subdirectory is permitted under the <a href="http://creativecommons.org/licenses/by-nd/3.0/" rel="nofollow"> Creative Commons Noderivs license version 3.0</a> or later.
	</footer>
	
	<script src="/blog/assets/vendor/jquery.min.js"></script>
	<script src="/blog/assets/vendor/popper.min.js"></script>
	<script src="/blog/assets/vendor/bootstrap.min.js"></script>
    </body>
</html>
