```
  __       _          _                     _
 / _| __ _| |___  ___| |_ _ __ _   _  ___  (_) ___
| |_ / _` | / __|/ _ \ __| '__| | | |/ _ \ | |/ _ \
|  _| (_| | \__ \  __/ |_| |  | |_| |  __/_| | (_) |
|_|  \__,_|_|___/\___|\__|_|   \__,_|\___(_)_|\___/

== [Gemini capsule] * ==============================
```
=> / ← Back
# Что делать если в /etc/sudoers syntax error

Иногда бывает так:

```

>>> /etc/sudoers: syntax error near line 16 <<<

sudo: parse error in /etc/sudoers near line 16

sudo: no valid sudoers sources found, quitting

sudo: unable to initialize policy plugin

```

Если ошибиться в синтаксисе /etc/sudoers то sudo небудет работать, и постоянно выдавать ошибку синтаксиса в конфиге. Что делать в таком случае ?

Первый вариант это использовать

=> https://en.wikipedia.org/wiki/Polkit PolKit

и утилиту pkexec которая позволяет запускать привилегированный процесс и при этом просит ввести пароль от текущего пользователя.

А что делать если это произошло на Amazon EC2 и пароль от пользователя неивзестен или pkexec неработает ?

Выключить машину

Отмонтировать диск

Создать другую EC2 машину и вырубить ее

Примонтировать диск от сломанной машины к новой

Включить новую машину и исправить файл

Выключить все, примонтировать диск обратно на нужную машину

А чтобы не ошибаться в синтаксисе /etc/sudoers, нужно его всегда редактировать через visudo который предупредит если ошибка и даст ее исправить.

EOF

```
     ░▒▓▓▒░  FalseTrue - dmth's notes | Gemini Capsule [-]  ░▒▓▓▒░
```
