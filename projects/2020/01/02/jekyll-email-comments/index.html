<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Jekyll mail comments | FalseTrue</title>

<!-- Begin Bridgetown SEO tag v6.0.0 -->
<title>Jekyll mail comments | FalseTrue</title>
<meta property="og:title" content="Jekyll mail comments" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Scripts of cyberdaemon" />
<meta property="og:description" content="Scripts of cyberdaemon" />
<link rel="canonical" href="https://falsetrue.io/projects/2020/01/02/jekyll-email-comments/" />
<meta property="og:url" content="https://falsetrue.io/projects/2020/01/02/jekyll-email-comments/" />
<meta property="og:site_name" content="FalseTrue" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-02T16:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Jekyll mail comments" />
<!-- End Bridgetown SEO tag -->


<style>
 @import url('https://fonts.googleapis.com/css2?family=Victor+Mono:ital,wght@0,100..700;1,100..700&display=swap');
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
<link rel="stylesheet" href="/_bridgetown/static/index.NKK74CYU.css" />
<link rel="token_endpoint" href="https://tokens.indieauth.com/token">
<link rel="authorization_endpoint" href="https://indieauth.com/auth">
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
<script src="/_bridgetown/static/index.42K5JGTD.js" defer></script>

<link type="application/atom+xml" rel="alternate" href="https://falsetrue.io/feed.xml" title="FalseTrue" />

  </head>
  <body class="post ">
    <!-- <header>
     <img src="/images/logo.svg" alt="Logo" />
     </header>
-->
<nav class="nav bg-black py-2">
  <ul>
    <li><a href="/"><span class="text-green-400">False!</span><span class="text-cyan-300">True</span></a></li>
    <li><a href="/">Home</a></li>
    <li><a href="/blog">Blog</a></li>
    <li><a href="/feed">Feed</a></li>
    <li><a href="/archive">Archive</a></li>
    <li><a href="/bookshelf">Bookshelf</a></li>
    <li><a href="/photography">Photography</a></li>
    <li><a href="/halloffame">Hall of fame</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/feed.xml"><i class="fa fa-rss text-[orange]"></i>&nbsp;RSS</a></li>
  </ul>
</nav>


    <main>
      <article class="prose prose-slate prose-pre:bg-gray-100 prose-pre:text-gray-500 max-w-full prose-h1:leading-relaxed">
    <span>02 Jan 2020</span>
    <div class="mb-8">
        <h1 class="leading-relaxed">Jekyll mail comments</h1>
        <div class="category-block">
            <span>Category</span>
            
                <a href="/categories/projects" class="badge-category">projects</a>
            
        </div>
        <div class="tags-block mt-8">
            <span>Tags</span>
            
                <a href="/tags/dev" class="badge-tag">#dev</a>
            
                <a href="/tags/ruby" class="badge-tag">#ruby</a>
            
                <a href="/tags/jekyll" class="badge-tag">#jekyll</a>
            
        </div>
    </div>
    <p>This blog is made with Jekyll. Jekyll is static site generator. It never have good commenting mechanism, 
there are few options like integration of 3dparty javascript code, or write some logic with database, or search for plugin.
I wrote my own with ruby, without any javascript code nor database invovled. Program take your emails from IMAP directory 
and generate tree based comments page for Jekyll. User can reply by answering to my email with specific subject. 
This is a good old way for full-fledged conversations without so called ‚Äúlikes‚Äù and ‚Äúreactions‚Äù. It is also premoderated by design, -
until you run fetch procedure no comments will be added to your Jekyll site. Comments stored in special json formatted data files, 
which are compatible with the Jekyll‚Äôs Data files mechanism.</p>

<p>I made it as a ruby Gem package option, check it out here <a href="https://github.com/noroot/jekyll-mail-comments">https://github.com/noroot/jekyll-mail-comments</a></p>

<p>Undercut contains README file from repository, and comments.</p>

<p>Feel free to comment, I‚Äôve already installed it onto this blog, go ahead to try.</p>

<!-- more -->

<h2 id="how-it-works-">How it works ?</h2>

<ul>
  <li>You‚Äôve to setup mailbox, on Jekyll pages you will have mailto link which opens native system mail client with pre filled subject.</li>
  <li>Person who wants to comment message write message to your specific email address.</li>
  <li>Fetch program watch for special subject suffix to distinct comments from other emails</li>
  <li>Fetch program generate json based data files which perfectly fits to Jekyll data system <a href="https://jekyllrb.com/docs/datafiles/">https://jekyllrb.com/docs/datafiles/</a></li>
</ul>

<h2 id="what-is-the-purpose-">What is the purpose ?</h2>

<ul>
  <li>Jekyll static site generator has no comments system</li>
  <li>Don‚Äôt want to inject 3rdparty javascript code to work with SaSS comments system</li>
  <li>Any RDBS for static site generator is overhead</li>
</ul>

<h2 id="how-to-setup">How-to Setup</h2>

<ul>
  <li>Go to your jekyll site <code class="highlighter-rouge">cd ~/jekull_site</code></li>
  <li>Install gem <code class="highlighter-rouge">gem install mail_comments</code></li>
  <li>Setup credentials</li>
</ul>

<p>There few credentials your have to setup before run:</p>

<p>** MC_LOGIN - Login to imap server
** MC_PASSWORD - Password for imap server
** MC_HOST - IMAP server hostname
** MC_PORT - IMAP server port 
** MC_SUBJECT_SUFFIX - Suffix to filter comments</p>

<ul>
  <li>You have put this as environment variables <code class="highlighter-rouge">see .env.dist</code></li>
  <li><code class="highlighter-rouge">jekyll-mail-comments-fetch</code></li>
  <li>After that you will get comments data files inside Jekyll data directory - <strong>_data</strong></li>
</ul>

<p>After that if new comments are present it will generate data files with comments which you can process with Jekyll with data tag.
See here. <a href="https://jekyllrb.com/docs/datafiles/">https://jekyllrb.com/docs/datafiles/</a>_ or below.</p>

<p>Templates for Jekyll can be found inside <strong>templates</strong> directory of this gem.</p>

<h2 id="credits">Credits</h2>

<p>Inspiration while searching for already existing gem for email comments</p>

<ul>
  <li><a href="https://stevescott.ca/2017-04-03-static-site-comments-via-email.html">https://stevescott.ca/2017-04-03-static-site-comments-via-email.html</a></li>
  <li><a href="https://github.com/aioobe/dead-simple-jekyll-comments/">https://github.com/aioobe/dead-simple-jekyll-comments/</a></li>
</ul>

<h2 id="roadmap">ROADMAP</h2>
<ul>
  <li>Inplace form to post comment</li>
  <li>PGP signing for messages</li>
</ul>

<h2 id="example">Example</h2>

<ul>
  <li>Here, below ‚Üì‚Üì‚Üì</li>
</ul>

</article>

<div class="my-8 ">
    <h2 class="text-2xl mb-2">Comments</h2>

    <script data-isso="https://comments.falsetrue.io/"
            src="https://comments.falsetrue.io/js/embed.min.js"></script>

    <section id="isso-thread">
        <noscript>Javascript needs to be activated to view comments.</noscript>
    </section>

</div>

    </main>

    <!-- <footer class="mt-8">
     Contact me at <a href="mailto:public@falsetrue.io">public@falsetrue.io</a>
     </footer>
-->
<footer class="text-xs mt-8 px-8">
    <div class="">
        <div>
            Dmitry Ro ¬© 2003 - 2024<br>
            –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–∞—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –Ω–µ –∏–∑–º–µ–Ω–Ω–æ–º –≤–∏–¥–µ, –≤–∫–ª—é—á–∞—è —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ.
            Verbatim copying and redistribution of this entire page are permitted provided this notice is preserved.
            Verbatim copying and redistribution of any of the photos in the photos subdirectory is permitted under the <a href="http://creativecommons.org/licenses/by-nd/3.0/" rel="nofollow"> Creative Commons Noderivs license version 3.0</a> or later.
            <div><a href="/pgp.key.txt" rel="pgpkey authn">PGP Key</a></div>
        </div>
        <div class="flex mx-auto my-3 items-center justify-center gap-1">
            <div><a href="https://webmentions.io" target="_blank" class="inline"><img src="/images/webmention.png" alt="Webmentions"></a></div>
            <div><a href="https://indieweb.org" target="_blank"><img src="/images/indieweb.png" alt="indieweb"></a></div>
            <div><a href="https://microformats.org" target="_blank"><img src="/images/microformats.png" alt="microformats"></a></div>
            <div><a href="https://creativecommons.org/licenses/by/3.0/" target="_blank"><img src="/images/cc-commons.png" alt="cc-commons"></a></div>
            <div><img src="/images/w3c-valid-html.png" alt="valid w3c"></div>
        </div>
        <div class="mt-1">
            <a href="https://xn--sr8hvo.ws/previous">‚Üê</a>
            An <a href="https://xn--sr8hvo.ws">IndieWeb Webring</a> üï∏üíç
            <a href="https://xn--sr8hvo.ws/next">‚Üí</a>
        </div>
    </div>
</footer>

  </body>
</html>
